---
title: 迭代器
date: 2021-10-11 20:01:00
tags: [java]
---

# Iterator 迭代器

## Iterator 接口

在程序开发中，经常需要遍历集合中的所有元素。针对这种需求，JDK 专门提供了一个接口
`java.util.Iterator` 。`Iterator` 接口也是 Java 集合中的一员，但它与`Collection` 、`Map` 接口有所
不同，`Collection` 接口与`Map` 接口主要用于存储元素，而`Iterator` 主要用于迭代访问（即遍历）
Collection 中的元素，因此 Iterator 对象也被称为迭代器。

### 获取方式

Iterator 迭代器，是一个接口，我们无法直接使用，需要使用 Iterator 接口的实现类对象，获取实现类的方式比较特殊

Collection 接口中有一个方法，`iterator()`，返回的就是迭代器的实现类对象

`Iterator<E> iterator()` 返回在此 collection 的元素上进行迭代的迭代器对象

### 常用方法：

```java
public boolean hasNext() 如果仍有元素可以迭代，返回true

public E next() 返回迭代的下一个元素
```

### 使用步骤：

1.使用集合中的方法 iterator()获取迭代器的实现类对象,使用 Iterator 接口接收(多态)

2.使用 Iterator 接口中的方法 hasNext 判断还有没有下一个元素

3.使用 Iterator 接口中的方法 next 取出集合中的下一个元素

```java
public class IteratorTest {
    public static void main(String[] args) {
        Collection<String> coll = new ArrayList<>();
        coll.add("AAA");
        coll.add("BBB");
        coll.add("CCC");
        coll.add("DDD");

        Iterator<String> it = coll.iterator();

        while(it.hasNext()){
            String e = it.next();
            System.out.println(e);
        }
        System.out.println("==============");
        // String e = it.next();// 没有元素，在取出元素会抛出NoSuchElementException
        // System.out.println(e);
    }
}
```

## 增强 for

增强 for 循环(也称 for each 循环)是 JDK1.5 以后出来的一个高级 for 循环，专门用来遍历数组和集合的。它
的内部原理其实是个 Iterator 迭代器，所以在遍历的过程中，不能对集合中的元素进行增删操作。

### 格式：

```java
for(元素的数据类型  变量 : Collection集合or数组){
    //写操作代码
}
```

```java
public class ForeachTest {
    public static void main(String[] args) {
        ArrayList<String> list = new ArrayList<>();
        list.add("AAA");
        list.add("BBB");
        list.add("CCC");
        list.add("DDD");
        for (String s : list) {
            System.out.println(s);
        }

        int[] arr = {1,2,3,4,5};
        for (int i : arr) {
            System.out.println(i);
        }
    }
}
```

> 增强 for 必须有被遍历的目标，目标只能是 Collection 或者是数组
>
> 一般仅仅作为遍历操作出现
